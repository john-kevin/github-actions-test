name: Actions Workflow V2

on:
  push:
    branches:
      - master
      - develop
      - 'feature/*' #matches feature/a, feature/b, doesnt match feature/feat/b
      - 'feature/**' #matches feature/feat/b and all string
      - '!feature/c' #ignore this branch even if feature/* matches this pattern
    # branches-ignore: #run on all branch except some branches  
    # tags:
    # tags-ignore:
    # paths:
    #   - '**.js' #when there is a js file changes
    #   - '!index.js' #will run in all js except index.js
  # repository_dispatch: 
  # schedule:
  #   - cron: "0/5 * * * *"
  # push:
  pull_request:
    types: [closed, assigned, opened, reopened]
  
jobs: 
  run-github-actions:
    runs-on: ubuntu-latest
    steps:
      
      - name: Checkout
        uses: actions/checkout@v1
      
      - name: Create tag and release
        run: |
          git config --local user.email "kevinsoriano2828@gmail.com"
          git config --local user.name "john-kevin"
          git tag v1.1.1
          git push origin v1.1.1
     - name: Push changes
        uses: ad-m/github-push-action@master
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}    
      # - name: Create Tag
      #   run: |
      #     git config --global user.email "kevinsoriano2828@gmail.com"
      #     git config --global user.name "john-kevin"
      #     git tag -a v1.0.1 -m "Fix pipeline"
      #     git push origin v1.0.1
    
      # - name: Simple JS Action
      #   id: greet
      #   uses: actions/hello-world-javascript-action@v1
      #   with: 
      #     who-to-greet: Thea mae
      
      # - name: Log Greeting Time
      #   run: echo "${{ steps.greet.outputs.time }}"    